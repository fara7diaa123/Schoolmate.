<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>ุฏุฑุฌุงุช ุงูุทูุงุจ โ SchoolMate</title>
</head>
<body bgcolor="#C8BBBE">
  <h1 align="center">ุฏุฑุฌุงุช ุงูุทูุงุจ ุงูุดูุฑูุฉ</h1>
  <p align="center">ุณุฌู ุฏุฑุฌุงุช ุงูุทูุงุจ ุจุณูููุฉ</p>
  <hr color="white" size="3">
  
  <!-- ุงูุฏุฑุฌุฉ ุงูููุงุฆูุฉ ุนูู ุงููููู ุชุญุช ุงูุฎุท -->
  <p style="text-align:right; color:rgb(0, 0, 0); font-weight:bold;">ุงูุฏุฑุฌุฉ ุงูููุงุฆูุฉ ููู ูุงุฏุฉ: 20</p>

  <div align="center">
    <button onclick="clearData()">๐ ูุณุญ ูู ุงูุจูุงูุงุช</button>
  </div>
  <br>

  <table border="1" width="90%" align="center" cellpadding="3" bgcolor="#DEB887" id="gradesTable">
    <tr bgcolor="#C58917">
      <th>ุงูุงุณู</th>
      <!-- ุงูุนูุงููู ูุชุชููุฏ ุจุงูู JavaScript -->
    </tr>

    <tr>
      <td>ุนูุงุฑ</td>
    </tr>
    <tr>
      <td>ุบุฒู</td>
    </tr>
    <tr>
      <td>ุณุงูููู</td>
    </tr>
    <tr>
      <td>ูุญูุฏ</td>
    </tr>
  </table>

  <br>
  <p style="cursor:pointer; color:blue;" onclick="window.location.href='index.html'">โฌ ุงูุฑุฌูุน ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</p>

  <script>
    const subjects = ["ุนุฑุจู","ุฅูุฌููุฒู","ูุงุซ","ุณุงููุณ","ุชุงุฑูุฎ","ููุณูุฉ"];
    const months = ["ุฃูุชูุจุฑ","ููููุจุฑ","ุฏูุณูุจุฑ"];
    const table = document.getElementById("gradesTable");
    const maxGrade = 20;

    // ุชูููุฏ ุงูุตู ุงูุนููู (ุงูุนูุงููู)
    for (let m = 0; m < months.length; m++) {
      for (let s = 0; s < subjects.length; s++) {
        let header = document.createElement("th");
        header.innerText = subjects[s] + " (" + months[m] + ")";
        table.rows[0].appendChild(header);
      }
    }

    // ุชูููุฏ ุฎูุงูุง ุงูุฏุฑุฌุงุช ููู ุทุงูุจ
    for (let r = 1; r < table.rows.length; r++) {
      let studentName = table.rows[r].cells[0].innerText;
      for (let m = 0; m < months.length; m++) {
        for (let s = 0; s < subjects.length; s++) {
          let cell = document.createElement("td");
          let input = document.createElement("input");
          input.type = "number";
          input.min = 0;
          input.max = maxGrade;
          input.style.width = "50px";

          // ููุน ุงูุฑูู ุงูุฃูุจุฑ ูู ุงูุฏุฑุฌุฉ ุงูููุงุฆูุฉ
          input.oninput = function () {
            if (input.value > maxGrade) {
              alert("ุงูุฏุฑุฌุฉ ูุง ูููู ุฃู ุชุชุฌุงูุฒ " + maxGrade);
              input.value = "";
            }
          };

          // ุญูุธ ุงูุฑูู ูู localStorage
          input.onchange = function () {
            localStorage.setItem(studentName + "_" + subjects[s] + "_" + months[m], input.value);
          };

          // ุชุญููู ุงูุฑูู ูู ุงูุชุฎุฒูู
          let saved = localStorage.getItem(studentName + "_" + subjects[s] + "_" + months[m]);
          if (saved) input.value = saved;

          cell.appendChild(input);
          table.rows[r].appendChild(cell);
        }
      }
    }

    // ุฏุงูุฉ ูุณุญ ุงูุจูุงูุงุช
    function clearData() {
      if (confirm("ูู ุฃูุช ูุชุฃูุฏ ุฃูู ุชุฑูุฏ ูุณุญ ุฌููุน ุงูุจูุงูุงุชุ")) {
        localStorage.clear();
        location.reload();
      }
    }
  </script>
</body>
</html>

